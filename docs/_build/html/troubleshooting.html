

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Troubleshooting Guide &mdash; Vibration Monitoring System 1.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=f2a433a1"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Maintenance" href="maintenance.html" />
    <link rel="prev" title="API Reference" href="api_reference.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            Vibration Monitoring System
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Vibration Monitoring System</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="usage.html">Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="api_reference.html">API Reference</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Troubleshooting Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#camera-connection-issues">Camera Connection Issues</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#camera-feed-not-displaying">Camera Feed Not Displaying</a></li>
<li class="toctree-l3"><a class="reference internal" href="#poor-video-quality">Poor Video Quality</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#plc-communication-issues">PLC Communication Issues</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#plc-connection-failures">PLC Connection Failures</a></li>
<li class="toctree-l3"><a class="reference internal" href="#plc-not-responding-to-commands">PLC Not Responding to Commands</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#database-issues">Database Issues</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#database-connection-failures">Database Connection Failures</a></li>
<li class="toctree-l3"><a class="reference internal" href="#data-not-being-recorded">Data Not Being Recorded</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#system-performance-issues">System Performance Issues</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#high-cpu-usage">High CPU Usage</a></li>
<li class="toctree-l3"><a class="reference internal" href="#disk-space-issues">Disk Space Issues</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#vibration-detection-issues">Vibration Detection Issues</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#false-positive-detections">False Positive Detections</a></li>
<li class="toctree-l3"><a class="reference internal" href="#missed-vibration-detections">Missed Vibration Detections</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#logging-issues">Logging Issues</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#missing-log-files">Missing Log Files</a></li>
<li class="toctree-l3"><a class="reference internal" href="#excessive-logging">Excessive Logging</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#system-not-starting">System Not Starting</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#application-crashes-at-startup">Application Crashes at Startup</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#contact-support">Contact Support</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="maintenance.html">Maintenance</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Full Project Details:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="project_details.html">Vibration Monitoring System</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Vibration Monitoring System</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Troubleshooting Guide</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/troubleshooting.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="troubleshooting-guide">
<h1>Troubleshooting Guide<a class="headerlink" href="#troubleshooting-guide" title="Link to this heading"></a></h1>
<p>This guide provides solutions for common issues you may encounter with the Vibration Monitoring System.</p>
<section id="camera-connection-issues">
<h2>Camera Connection Issues<a class="headerlink" href="#camera-connection-issues" title="Link to this heading"></a></h2>
<section id="camera-feed-not-displaying">
<h3>Camera Feed Not Displaying<a class="headerlink" href="#camera-feed-not-displaying" title="Link to this heading"></a></h3>
<p><strong>Issue</strong>: Camera feed is not visible in the monitoring interface.</p>
<p><strong>Possible Causes</strong>:
- Network connectivity issues
- Incorrect RTSP URL
- Camera power issues
- Camera in use by another application</p>
<p><strong>Solutions</strong>:</p>
<ol class="arabic">
<li><p><strong>Check Network Connectivity</strong>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>ping [camera_ip_address]
</pre></div>
</div>
<p>If the ping fails, check the network connections and ensure the camera is on the same network.</p>
</li>
<li><p><strong>Verify RTSP URL</strong>:</p>
<p>Open the <code class="docutils literal notranslate"><span class="pre">data/cameras.json</span></code> file and verify the RTSP URL for the problematic camera:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;camera_serial_number&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;rtsp://username:password@camera_ip:554/stream&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Ensure the IP address, username, password, and stream path are correct.</p>
</li>
<li><p><strong>Restart Camera</strong>:</p>
<p>Power cycle the camera by disconnecting and reconnecting its power supply.</p>
</li>
<li><p><strong>Check Camera in Device Manager</strong>:</p>
<p>Ensure no other applications are using the camera.</p>
</li>
<li><p><strong>Adjust Reconnection Settings</strong>:</p>
<p>In <code class="docutils literal notranslate"><span class="pre">cam.py</span></code>, you can modify the <code class="docutils literal notranslate"><span class="pre">RECONNECTION_PERIOD</span></code> attribute to adjust how quickly the system attempts to reconnect:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="bp">self</span><span class="o">.</span><span class="n">RECONNECTION_PERIOD</span> <span class="o">=</span> <span class="mf">0.5</span>  <span class="c1"># seconds</span>
</pre></div>
</div>
</li>
</ol>
</section>
<section id="poor-video-quality">
<h3>Poor Video Quality<a class="headerlink" href="#poor-video-quality" title="Link to this heading"></a></h3>
<p><strong>Issue</strong>: Camera feed is displaying but with poor quality or high latency.</p>
<p><strong>Solutions</strong>:</p>
<ol class="arabic">
<li><p><strong>Check Network Bandwidth</strong>:</p>
<p>Ensure sufficient bandwidth is available for the video stream. Consider using a dedicated network for cameras.</p>
</li>
<li><p><strong>Adjust Camera Settings</strong>:</p>
<p>Access the camera’s web interface and reduce resolution or frame rate if bandwidth is limited.</p>
</li>
<li><p><strong>Update Camera Firmware</strong>:</p>
<p>Check for and install any available firmware updates for your camera model.</p>
</li>
</ol>
</section>
</section>
<section id="plc-communication-issues">
<h2>PLC Communication Issues<a class="headerlink" href="#plc-communication-issues" title="Link to this heading"></a></h2>
<section id="plc-connection-failures">
<h3>PLC Connection Failures<a class="headerlink" href="#plc-connection-failures" title="Link to this heading"></a></h3>
<p><strong>Issue</strong>: System cannot connect to the PLC or loses connection frequently.</p>
<p><strong>Possible Causes</strong>:
- Incorrect COM port
- Serial cable issues
- Incorrect communication parameters
- PLC in faulty state</p>
<p><strong>Solutions</strong>:</p>
<ol class="arabic">
<li><p><strong>Verify COM Port</strong>:</p>
<p>In <code class="docutils literal notranslate"><span class="pre">plc.py</span></code>, check the COM port configuration:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="bp">self</span><span class="o">.</span><span class="n">instrument</span> <span class="o">=</span> <span class="n">minimalmodbus</span><span class="o">.</span><span class="n">Instrument</span><span class="p">(</span><span class="s1">&#39;COM7&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<p>Ensure COM7 is the correct port. You can check available ports using:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">serial.tools.list_ports</span>
<span class="n">ports</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">serial</span><span class="o">.</span><span class="n">tools</span><span class="o">.</span><span class="n">list_ports</span><span class="o">.</span><span class="n">comports</span><span class="p">())</span>
<span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">ports</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p><strong>Check Serial Cable</strong>:</p>
<p>Inspect the serial cable for damage and ensure it’s securely connected at both ends.</p>
</li>
<li><p><strong>Verify Communication Parameters</strong>:</p>
<p>Confirm the PLC communication parameters match those in the code:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="bp">self</span><span class="o">.</span><span class="n">instrument</span><span class="o">.</span><span class="n">serial</span><span class="o">.</span><span class="n">baudrate</span> <span class="o">=</span> <span class="mi">9600</span>
<span class="bp">self</span><span class="o">.</span><span class="n">instrument</span><span class="o">.</span><span class="n">serial</span><span class="o">.</span><span class="n">bytesize</span> <span class="o">=</span> <span class="mi">7</span>
<span class="bp">self</span><span class="o">.</span><span class="n">instrument</span><span class="o">.</span><span class="n">serial</span><span class="o">.</span><span class="n">parity</span> <span class="o">=</span> <span class="n">serial</span><span class="o">.</span><span class="n">PARITY_EVEN</span>
<span class="bp">self</span><span class="o">.</span><span class="n">instrument</span><span class="o">.</span><span class="n">serial</span><span class="o">.</span><span class="n">stopbits</span> <span class="o">=</span> <span class="mi">1</span>
<span class="bp">self</span><span class="o">.</span><span class="n">instrument</span><span class="o">.</span><span class="n">mode</span> <span class="o">=</span> <span class="n">minimalmodbus</span><span class="o">.</span><span class="n">MODE_ASCII</span>
</pre></div>
</div>
</li>
<li><p><strong>Restart PLC</strong>:</p>
<p>If possible, restart the PLC to reset its communication state.</p>
</li>
<li><p><strong>Check PLC Address</strong>:</p>
<p>Verify the PLC address in the code matches the actual PLC address:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="bp">self</span><span class="o">.</span><span class="n">instrument</span> <span class="o">=</span> <span class="n">minimalmodbus</span><span class="o">.</span><span class="n">Instrument</span><span class="p">(</span><span class="s1">&#39;COM7&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>  <span class="c1"># 1 is the slave address</span>
</pre></div>
</div>
</li>
</ol>
</section>
<section id="plc-not-responding-to-commands">
<h3>PLC Not Responding to Commands<a class="headerlink" href="#plc-not-responding-to-commands" title="Link to this heading"></a></h3>
<p><strong>Issue</strong>: System connects to PLC but the PLC doesn’t respond to commands.</p>
<p><strong>Solutions</strong>:</p>
<ol class="arabic">
<li><p><strong>Check Register Addresses</strong>:</p>
<p>Verify the register addresses used in read_bit and write_bit functions:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">read_bit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">address</span><span class="p">):</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">instrument</span><span class="o">.</span><span class="n">read_register</span><span class="p">(</span><span class="n">address</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Failed to read bit: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">None</span>
</pre></div>
</div>
<p>Ensure the addresses match those in the PLC documentation.</p>
</li>
<li><p><strong>Test with PLC Programming Software</strong>:</p>
<p>Use the PLC manufacturer’s programming software to test direct communication with the PLC.</p>
</li>
<li><p><strong>Check PLC Access Rights</strong>:</p>
<p>Ensure the PLC is configured to allow read/write access from external devices.</p>
</li>
</ol>
</section>
</section>
<section id="database-issues">
<h2>Database Issues<a class="headerlink" href="#database-issues" title="Link to this heading"></a></h2>
<section id="database-connection-failures">
<h3>Database Connection Failures<a class="headerlink" href="#database-connection-failures" title="Link to this heading"></a></h3>
<p><strong>Issue</strong>: System cannot connect to the PostgreSQL database.</p>
<p><strong>Possible Causes</strong>:
- PostgreSQL service not running
- Incorrect connection parameters
- Database does not exist
- Permission issues</p>
<p><strong>Solutions</strong>:</p>
<ol class="arabic">
<li><p><strong>Check PostgreSQL Service</strong>:</p>
<p>Verify the PostgreSQL service is running:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>services.msc
</pre></div>
</div>
<p>Look for the PostgreSQL service and ensure it’s started.</p>
</li>
<li><p><strong>Verify Connection Parameters</strong>:</p>
<p>In <code class="docutils literal notranslate"><span class="pre">database.py</span></code>, check the connection parameters:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">conn</span> <span class="o">=</span> <span class="n">psycopg2</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span>
    <span class="n">host</span><span class="o">=</span><span class="s2">&quot;localhost&quot;</span><span class="p">,</span>
    <span class="n">port</span><span class="o">=</span><span class="s2">&quot;5432&quot;</span><span class="p">,</span>
    <span class="n">user</span><span class="o">=</span><span class="s2">&quot;postgres&quot;</span><span class="p">,</span>
    <span class="n">password</span><span class="o">=</span><span class="s2">&quot;root&quot;</span><span class="p">,</span>
    <span class="n">database</span><span class="o">=</span><span class="s2">&quot;postgres&quot;</span>
<span class="p">)</span>
</pre></div>
</div>
<p>Ensure these match your PostgreSQL installation.</p>
</li>
<li><p><strong>Create Database Manually</strong>:</p>
<p>If the automatic database creation fails, create it manually:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">CREATE</span><span class="w"> </span><span class="k">DATABASE</span><span class="w"> </span><span class="n">deevia_vms</span><span class="p">;</span>
</pre></div>
</div>
</li>
<li><p><strong>Check User Permissions</strong>:</p>
<p>Ensure the PostgreSQL user has appropriate permissions:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">GRANT</span><span class="w"> </span><span class="k">ALL</span><span class="w"> </span><span class="k">PRIVILEGES</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">DATABASE</span><span class="w"> </span><span class="n">deevia_vms</span><span class="w"> </span><span class="k">TO</span><span class="w"> </span><span class="n">postgres</span><span class="p">;</span>
</pre></div>
</div>
</li>
</ol>
</section>
<section id="data-not-being-recorded">
<h3>Data Not Being Recorded<a class="headerlink" href="#data-not-being-recorded" title="Link to this heading"></a></h3>
<p><strong>Issue</strong>: Vibration events are detected but not recorded in the database.</p>
<p><strong>Solutions</strong>:</p>
<ol class="arabic">
<li><p><strong>Check Table Creation</strong>:</p>
<p>Verify the vms table exists in the database:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="err">\</span><span class="n">dt</span><span class="w"> </span><span class="n">vms</span>
</pre></div>
</div>
<p>If it doesn’t exist, the automatic table creation might have failed. Review the logs for errors.</p>
</li>
<li><p><strong>Check Database Disk Space</strong>:</p>
<p>Ensure sufficient disk space is available for the database.</p>
</li>
<li><p><strong>Check Database Logs</strong>:</p>
<p>Review PostgreSQL logs for any errors related to the database operations.</p>
</li>
</ol>
</section>
</section>
<section id="system-performance-issues">
<h2>System Performance Issues<a class="headerlink" href="#system-performance-issues" title="Link to this heading"></a></h2>
<section id="high-cpu-usage">
<h3>High CPU Usage<a class="headerlink" href="#high-cpu-usage" title="Link to this heading"></a></h3>
<p><strong>Issue</strong>: System is using excessive CPU resources.</p>
<p><strong>Solutions</strong>:</p>
<ol class="arabic">
<li><p><strong>Reduce Frame Rate</strong>:</p>
<p>In <code class="docutils literal notranslate"><span class="pre">app.py</span></code>, modify the FPS setting in the config.json file:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;fps&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Lower values will reduce CPU usage.</p>
</li>
<li><p><strong>Optimize ROI Size</strong>:</p>
<p>In <code class="docutils literal notranslate"><span class="pre">app.py</span></code>, adjust the Region of Interest size to process smaller areas:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;x&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;y&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;width&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">300</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;height&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">300</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
<li><p><strong>Disable Motion Blur</strong>:</p>
<p>In <code class="docutils literal notranslate"><span class="pre">app.py</span></code>, disable motion blur processing:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;motion_blur&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
</ol>
</section>
<section id="disk-space-issues">
<h3>Disk Space Issues<a class="headerlink" href="#disk-space-issues" title="Link to this heading"></a></h3>
<p><strong>Issue</strong>: System is rapidly filling available disk space with video recordings.</p>
<p><strong>Solutions</strong>:</p>
<ol class="arabic">
<li><p><strong>Adjust Storage Limit</strong>:</p>
<p>In <code class="docutils literal notranslate"><span class="pre">data/storage_limit.json</span></code>, modify the storage limit:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;limit_gb&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
<li><p><strong>Reduce Video Duration</strong>:</p>
<p>In <code class="docutils literal notranslate"><span class="pre">app.py</span></code>, modify the video duration setting:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;video_duration&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">120</span>
<span class="p">}</span>
</pre></div>
</div>
<p>This will create smaller video files.</p>
</li>
<li><p><strong>Implement Automatic Cleanup</strong>:</p>
<p>Create a scheduled task to automatically delete older video files.</p>
</li>
</ol>
</section>
</section>
<section id="vibration-detection-issues">
<h2>Vibration Detection Issues<a class="headerlink" href="#vibration-detection-issues" title="Link to this heading"></a></h2>
<section id="false-positive-detections">
<h3>False Positive Detections<a class="headerlink" href="#false-positive-detections" title="Link to this heading"></a></h3>
<p><strong>Issue</strong>: System detects vibrations when none are present.</p>
<p><strong>Solutions</strong>:</p>
<ol class="arabic">
<li><p><strong>Adjust MES Score Threshold</strong>:</p>
<p>In <code class="docutils literal notranslate"><span class="pre">app.py</span></code>, increase the mes_score threshold:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;mes_score&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">75</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Higher values require more significant movement to trigger detection.</p>
</li>
<li><p><strong>Adjust Stable Threshold</strong>:</p>
<p>In <code class="docutils literal notranslate"><span class="pre">app.py</span></code>, increase the stable_threshold:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;stable_threshold&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span>
<span class="p">}</span>
</pre></div>
</div>
<p>This requires the system to wait longer before declaring stability.</p>
</li>
<li><p><strong>Optimize ROI Placement</strong>:</p>
<p>Adjust the Region of Interest to exclude areas with normal movement:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;x&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;y&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;width&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">400</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;height&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">400</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
</ol>
</section>
<section id="missed-vibration-detections">
<h3>Missed Vibration Detections<a class="headerlink" href="#missed-vibration-detections" title="Link to this heading"></a></h3>
<p><strong>Issue</strong>: System fails to detect actual vibrations.</p>
<p><strong>Solutions</strong>:</p>
<ol class="arabic">
<li><p><strong>Decrease MES Score Threshold</strong>:</p>
<p>In <code class="docutils literal notranslate"><span class="pre">app.py</span></code>, decrease the mes_score threshold:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;mes_score&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Lower values will make the system more sensitive.</p>
</li>
<li><p><strong>Optimize Camera Placement</strong>:</p>
<p>Ensure cameras have a clear view of the areas where vibration is expected.</p>
</li>
<li><p><strong>Improve Lighting</strong>:</p>
<p>Ensure consistent lighting in the monitored area to improve detection accuracy.</p>
</li>
</ol>
</section>
</section>
<section id="logging-issues">
<h2>Logging Issues<a class="headerlink" href="#logging-issues" title="Link to this heading"></a></h2>
<section id="missing-log-files">
<h3>Missing Log Files<a class="headerlink" href="#missing-log-files" title="Link to this heading"></a></h3>
<p><strong>Issue</strong>: Log files are not being created or are incomplete.</p>
<p><strong>Solutions</strong>:</p>
<ol class="arabic">
<li><p><strong>Check Permissions</strong>:</p>
<p>Ensure the application has write permissions to the logs directory.</p>
</li>
<li><p><strong>Verify Logging Configuration</strong>:</p>
<p>In <code class="docutils literal notranslate"><span class="pre">logging_config.py</span></code>, check the logging configuration:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">setup_logger</span><span class="p">():</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="s1">&#39;logs&#39;</span><span class="p">):</span>
        <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="s1">&#39;logs&#39;</span><span class="p">)</span>

    <span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="s1">&#39;vibration_monitoring&#39;</span><span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">INFO</span><span class="p">)</span>

    <span class="n">handler</span> <span class="o">=</span> <span class="n">TimedRotatingFileHandler</span><span class="p">(</span>
        <span class="s1">&#39;logs/app.log&#39;</span><span class="p">,</span>
        <span class="n">when</span><span class="o">=</span><span class="s1">&#39;midnight&#39;</span><span class="p">,</span>
        <span class="n">backupCount</span><span class="o">=</span><span class="mi">1</span>
    <span class="p">)</span>
    <span class="n">formatter</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">Formatter</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%(asctime)s</span><span class="s1"> - </span><span class="si">%(filename)s</span><span class="s1"> - </span><span class="si">%(threadName)s</span><span class="s1"> - </span><span class="si">%(levelname)s</span><span class="s1"> - </span><span class="si">%(message)s</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="n">handler</span><span class="o">.</span><span class="n">setFormatter</span><span class="p">(</span><span class="n">formatter</span><span class="p">)</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">addHandler</span><span class="p">(</span><span class="n">handler</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">logger</span>
</pre></div>
</div>
<p>Ensure the path and configuration are correct.</p>
</li>
<li><p><strong>Free Disk Space</strong>:</p>
<p>Ensure sufficient disk space is available for log files.</p>
</li>
</ol>
</section>
<section id="excessive-logging">
<h3>Excessive Logging<a class="headerlink" href="#excessive-logging" title="Link to this heading"></a></h3>
<p><strong>Issue</strong>: Log files are growing too large too quickly.</p>
<p><strong>Solutions</strong>:</p>
<ol class="arabic">
<li><p><strong>Adjust Log Level</strong>:</p>
<p>In <code class="docutils literal notranslate"><span class="pre">logging_config.py</span></code>, change the log level to a less verbose setting:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">logger</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">WARNING</span><span class="p">)</span>  <span class="c1"># Change from INFO to WARNING</span>
</pre></div>
</div>
</li>
<li><p><strong>Reduce Retention Period</strong>:</p>
<p>In <code class="docutils literal notranslate"><span class="pre">logging_config.py</span></code>, reduce the backupCount parameter to retain fewer log files:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">handler</span> <span class="o">=</span> <span class="n">TimedRotatingFileHandler</span><span class="p">(</span>
    <span class="s1">&#39;logs/app.log&#39;</span><span class="p">,</span>
    <span class="n">when</span><span class="o">=</span><span class="s1">&#39;midnight&#39;</span><span class="p">,</span>
    <span class="n">backupCount</span><span class="o">=</span><span class="mi">1</span>  <span class="c1"># Reduced from higher value</span>
<span class="p">)</span>
</pre></div>
</div>
</li>
</ol>
</section>
</section>
<section id="system-not-starting">
<h2>System Not Starting<a class="headerlink" href="#system-not-starting" title="Link to this heading"></a></h2>
<section id="application-crashes-at-startup">
<h3>Application Crashes at Startup<a class="headerlink" href="#application-crashes-at-startup" title="Link to this heading"></a></h3>
<p><strong>Issue</strong>: Application crashes immediately upon starting.</p>
<p><strong>Solutions</strong>:</p>
<ol class="arabic">
<li><p><strong>Check Python Environment</strong>:</p>
<p>Ensure the correct Python environment is activated:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>call activate vms
</pre></div>
</div>
</li>
<li><p><strong>Verify Dependencies</strong>:</p>
<p>Ensure all required dependencies are installed:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>pip install -r requirements.txt
</pre></div>
</div>
</li>
<li><p><strong>Check Configuration Files</strong>:</p>
<p>Ensure all required configuration files exist and are valid JSON:</p>
<ul class="simple">
<li><p>data/cameras.json</p></li>
<li><p>data/config.json</p></li>
<li><p>data/roi.json</p></li>
<li><p>data/storage_limit.json</p></li>
</ul>
</li>
<li><p><strong>Check Log Files</strong>:</p>
<p>Review the log files for specific error messages:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>type logs\app.log
</pre></div>
</div>
</li>
<li><p><strong>Run with Debug Output</strong>:</p>
<p>Modify run.bat to show console output:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>call activate vms
python app.py
pause
</pre></div>
</div>
<p>This will keep the console window open to display any error messages.</p>
</li>
</ol>
</section>
</section>
<section id="contact-support">
<h2>Contact Support<a class="headerlink" href="#contact-support" title="Link to this heading"></a></h2>
<p>If you continue to experience issues after trying these troubleshooting steps, please contact Technical Support:</p>
<ul class="simple">
<li><p>Email: <a class="reference external" href="mailto:subramanya&#46;b&#37;&#52;&#48;deevia&#46;pw">subramanya<span>&#46;</span>b<span>&#64;</span>deevia<span>&#46;</span>pw</a></p></li>
<li><p>Phone: +91-7892389809</p></li>
</ul>
<p>When contacting support, please provide:</p>
<ol class="arabic simple">
<li><p>Detailed description of the issue</p></li>
<li><p>Steps to reproduce the problem</p></li>
<li><p>Any error messages from the logs</p></li>
<li><p>System configuration details</p></li>
<li><p>Screenshots of the issue if applicable</p></li>
</ol>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="api_reference.html" class="btn btn-neutral float-left" title="API Reference" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="maintenance.html" class="btn btn-neutral float-right" title="Maintenance" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Deevia Software India Pvt Ltd.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>